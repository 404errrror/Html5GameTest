window.__require=function e(t,o,n){function c(r,a){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){return c(t[r][1][e]||e)},d,d.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)c(n[r]);return c}({AnimationPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"36257Q8ip1C3Jfi7TgHrUt/","AnimationPlayer"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(){function e(){this.animClip=null,this.delay=0,this.finishEvents=[]}return __decorate([i(cc.AnimationClip)],e.prototype,"animClip",void 0),__decorate([i(cc.Integer)],e.prototype,"delay",void 0),__decorate([i(cc.Component.EventHandler)],e.prototype,"finishEvents",void 0),e=__decorate([c("AnimationInfo")],e)}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationInfo=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},t.prototype.start=function(){var e=this;this.animationInfo.forEach(function(t){var o=e;e.node.runAction(cc.sequence(cc.delayTime(t.delay),cc.callFunc(function(){o.animation.on("finished",function(){t.finishEvents.forEach(function(e){e.emit([e.customEventData])}),o.animation.off("finished")}),o.animation.play(t.animClip.name)})))})},__decorate([i([r])],t.prototype,"animationInfo",void 0),t=__decorate([c],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],AudioPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"22dfeoSgaVCcKteLIev1wk9","AudioPlayer"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioSource=null,t}return __extends(t,e),t.prototype.play=function(e){this.audioSource.play()},t.prototype.stop=function(e){this.audioSource.stop()},__decorate([i(cc.AudioSource)],t.prototype,"audioSource",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],BackgroundMusicController:[function(e,t,o){"use strict";cc._RF.push(t,"76a35W0zshGPqyA0awlm10I","BackgroundMusicController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioClip=null,t.label=null,t.isPlay=!1,t.audioID=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.label=this.node.getChildByName("Label").getComponent(cc.Label),this.isPlay=!1},t.prototype.buttonEvent=function(){1==this.isPlay?(cc.audioEngine.pause(this.audioID),this.label.string="\uc74c\uc545 \ucf1c\uae30"):(null==this.audioID?this.audioID=cc.audioEngine.play(this.audioClip,!0,1):cc.audioEngine.resume(this.audioID),this.label.string="\uc74c\uc545 \ub044\uae30"),this.isPlay=!this.isPlay},__decorate([i({type:cc.AudioClip})],t.prototype,"audioClip",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],CharacterController:[function(e,t,o){"use strict";cc._RF.push(t,"b5c95NoBhFAcrjoIId1LX9W","CharacterController"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./InputManager"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=1,t.jumpCount=0,t}return __extends(t,e),t.prototype.start=function(){this.rigidbody=this.getComponent(cc.RigidBody),this.jumpCount=0},t.prototype.update=function(e){1==n.default.instance.getKey(cc.macro.KEY.right)&&this.moveHorizontal(this.speed*e*500),1==n.default.instance.getKey(cc.macro.KEY.left)&&this.moveHorizontal(-this.speed*e*500),1==n.default.instance.getKeyDown(cc.macro.KEY.space)&&this.jump(),0==this.isFalling()&&(this.jumpCount=0)},t.prototype.moveHorizontal=function(e){this.node.setPosition(this.node.x+e,this.node.y)},t.prototype.jump=function(){this.jumpCount<2&&(this.rigidbody.linearVelocity=new cc.Vec2(this.rigidbody.linearVelocity.x,0),this.rigidbody.applyLinearImpulse(new cc.Vec2(0,500),this.rigidbody.getWorldCenter(),!0),++this.jumpCount)},t.prototype.isFalling=function(){var e=this.rigidbody.linearVelocity.y;return e<0&&(e=-e),e>.1},__decorate([r],t.prototype,"speed",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./InputManager":"InputManager"}],ChildActivator:[function(e,t,o){"use strict";cc._RF.push(t,"3390dm+DFpCLpjRcmxNUPaU","ChildActivator"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(){function e(){this.childName="",this.activateDelay=-1,this.deactivateDelay=-1}return __decorate([i(cc.String)],e.prototype,"childName",void 0),__decorate([i({type:cc.Float,tooltip:"\uc74c\uc218\ub97c \ub123\uc73c\uba74 \ud65c\uc131\ud654 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})],e.prototype,"activateDelay",void 0),__decorate([i({type:cc.Float,tooltip:"\uc74c\uc218\ub97c \ub123\uc73c\uba74 \ube44\ud65c\uc131\ud654 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})],e.prototype,"deactivateDelay",void 0),e=__decorate([c("ChildInfo")],e)}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childInfo=[],t}return __extends(t,e),t.prototype.start=function(){var e=this;this.childInfo.forEach(function(t){t.activateDelay>=0&&e.node.runAction(cc.sequence(cc.delayTime(t.activateDelay),cc.callFunc(function(){e.node.getChildByName(t.childName).active=!0}))),t.deactivateDelay>=0&&e.node.runAction(cc.sequence(cc.delayTime(t.deactivateDelay),cc.callFunc(function(){e.node.getChildByName(t.childName).active=!1})))})},t.prototype.activeChild=function(e){this.node.getChildByName(e).active=!0},t.prototype.inactiveChild=function(e){this.node.getChildByName(e).active=!1},__decorate([i(r)],t.prototype,"childInfo",void 0),t=__decorate([c],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],ComponentActivator:[function(e,t,o){"use strict";cc._RF.push(t,"fa72cW/UBlIBI/oYZgllHiC","ComponentActivator"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentName="",t.delay=1,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(this.delay),cc.callFunc(function(){e.node.getComponent(e.componentName).enabled=!0})))},__decorate([i],t.prototype,"componentName",void 0),__decorate([i],t.prototype,"delay",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],DieComponent:[function(e,t,o){"use strict";cc._RF.push(t,"4419amWhiJDG6Cqw84Nd9JY","DieComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./GameManager"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyGroup="Enemy",t.dieSprite=null,t.inactiveComponents=[],t.activeNode=[],t}return __extends(t,e),t.prototype.start=function(){},t.prototype.onBeginContact=function(e,t,o){var c=this;if(console.log("BeginContact!!"),o.node.group==this.enemyGroup){if(console.log("BeginContact Enemy !!"),n.default.instance.setGameOver(),null!=this.dieSprite){var i=this;cc.loader.loadRes("Sprites/"+this.dieSprite.name,cc.SpriteFrame,function(e,t){i.node.getComponent(cc.Sprite).spriteFrame=t})}this.inactiveComponents.forEach(function(e){c.node.getComponent(e).enabled=!1}),this.activeNode.forEach(function(e){e.active=!0})}},__decorate([r],t.prototype,"enemyGroup",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"dieSprite",void 0),__decorate([r({type:cc.String,tooltip:"\uc8fd\uc5c8\uc744 \uc2dc \ube44\ud65c\uc131\ud654 \ub420 \ucef4\ud3ec\ub10c\ud2b8\ub4e4\uc785\ub2c8\ub2e4."})],t.prototype,"inactiveComponents",void 0),__decorate([r({type:cc.Node,tooltip:"\uc8fd\uc5c8\uc744 \ub54c \ud65c\uc131\ud654 \uc2dc\ud0ac \ub178\ub4dc\ub4e4\uc785\ub2c8\ub2e4."})],t.prototype,"activeNode",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./GameManager":"GameManager"}],DontDestoryOnLoad:[function(e,t,o){"use strict";cc._RF.push(t,"9c3b3yh83hIgJOYcCoRvKso","DontDestoryOnLoad"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},t.instance=null,t=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],EventSenderToStageManager:[function(e,t,o){"use strict";cc._RF.push(t,"d848fEUtuVAdrueTw63/xaW","EventSenderToStageManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./StageManager"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextStageIndex=0,t}return __extends(t,e),t.prototype.start=function(){n.default.instance.startStage(this.nextStageIndex)},__decorate([r()],t.prototype,"nextStageIndex",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./StageManager":"StageManager"}],EventSender:[function(e,t,o){"use strict";cc._RF.push(t,"136e4EeDq9I+IQuLjo3E26R","EventSender"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startEvents=[],t.disableEvents=[],t}return __extends(t,e),t.prototype.start=function(){this.startEvents.forEach(function(e){e.emit([e.customEventData])})},t.prototype.onDisable=function(){this.disableEvents.forEach(function(e){e.emit([e.customEventData])})},__decorate([i({type:cc.Component.EventHandler,tooltip:"\ub178\ub4dc\uac00 \ud65c\uc131\ud654 \ub420 \ub54c \uc774\ubca4\ud2b8\ub97c \ubc1c\uc0dd\uc2dc\ud0b5\ub2c8\ub2e4."})],t.prototype,"startEvents",void 0),__decorate([i({type:cc.Component.EventHandler,tooltip:"\ub178\ub4dc\uac00 \ube44\ud65c\uc131\ud654 \ub420 \ub54c \uc774\ubca4\ud2b8\ub97c \ubc1c\uc0dd\uc2dc\ud0b5\ub2c8\ub2e4."})],t.prototype,"disableEvents",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"fdb68cv6KlFpL1pwXPvZbpR","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(){function e(){this.gameoverNode=null,this.gameoverScreenDelay=3}return __decorate([i(cc.Node)],e.prototype,"gameoverNode",void 0),__decorate([i(cc.Float)],e.prototype,"gameoverScreenDelay",void 0),e=__decorate([c("GameoverInfo")],e)}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limitFps=60,t.activatePhysics=!0,t.globalGravity=new cc.Vec2(0,-320),t.gameoverInfo=new r,t.gameOver=!1,t.gameScore=0,t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,cc.director.getPhysicsManager().enabled=this.activatePhysics,cc.director.getPhysicsManager().gravity=this.globalGravity,cc.game.setFrameRate(this.limitFps)},t.prototype.start=function(){this.gameOver=!1},t.prototype.update=function(e){0==this.gameOver&&(this.gameScore+=e)},t.prototype.setGameOver=function(){var e=this;this.gameOver=!0,null==this.gameoverInfo.gameoverNode&&console.error("Gameover Node\uac00 \uc124\uc815\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4!!!"),this.node.runAction(cc.sequence(cc.delayTime(this.gameoverInfo.gameoverScreenDelay),cc.callFunc(function(){e.gameoverInfo.gameoverNode.active=!0})))},t.prototype.IsGameOver=function(){return this.gameOver},t.prototype.gameRestart=function(){cc.director.loadScene("GameScene")},t.prototype.getGameScore=function(){return this.gameScore},t.instance=null,__decorate([i],t.prototype,"limitFps",void 0),__decorate([i],t.prototype,"activatePhysics",void 0),__decorate([i],t.prototype,"globalGravity",void 0),__decorate([i(r)],t.prototype,"gameoverInfo",void 0),t=o=__decorate([c],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],InputManager:[function(e,t,o){"use strict";cc._RF.push(t,"8d3d2Zqd5pEBLNIHJvdra5L","InputManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keys=new Array,t.keysState=new Map,t}var o;return __extends(t,e),o=t,t.prototype.onKeyDown=function(e){0!=this.keys[e.keyCode]&&void 0!=this.keys[e.keyCode]||this.keysState.set(e.keyCode,cc.SystemEvent.EventType.KEY_DOWN),this.keys[e.keyCode]=!0},t.prototype.onKeyUp=function(e){this.keys[e.keyCode]=!1,this.keysState.set(e.keyCode,cc.SystemEvent.EventType.KEY_UP)},t.prototype.onLoad=function(){if(null!=o.instance)return console.warn("InputManager\uac00 \uc911\ubcf5 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4!!"),void this.destroy();cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),o.instance=this},t.prototype.lateUpdate=function(){this.keysState.clear()},t.prototype.getKey=function(e){return this.keys[e]},t.prototype.getKeyDown=function(e){return this.keysState.get(e)==cc.SystemEvent.EventType.KEY_DOWN},t.prototype.getKeyUp=function(e){return this.keysState.get(e)==cc.SystemEvent.EventType.KEY_UP},t.instance=null,t=o=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],MoveComponent:[function(e,t,o){"use strict";cc._RF.push(t,"5bbe7HqgCVBEJ4/tPraP9Lj","MoveComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveToPosition=!1,t.moveVector=new cc.Vec2(0,0),t.limitX=!1,t.limitY=!1,t.minPosition=new cc.Vec2(0,0),t.maxPosition=new cc.Vec2(0,0),t.moveSpeed=1,t}return __extends(t,e),t.prototype.update=function(e){var t;t=1==this.moveToPosition?this.moveVector.sub(this.node.position).normalize():this.moveVector.normalize(),this.node.position=this.node.position.add(t.mul(this.moveSpeed*e*100)),this.limitPostion(this.minPosition,this.maxPosition)},t.prototype.limitPostion=function(e,t){1==this.limitX&&(this.node.position.x<e.x?this.node.position=new cc.Vec2(e.x,this.node.position.y):this.node.position.x>t.x&&(this.node.position=new cc.Vec2(t.x,this.node.position.y))),1==this.limitY&&(this.node.position.y<e.y?this.node.position=new cc.Vec2(this.node.position.x,e.y):this.node.position.y>t.y&&(this.node.position=new cc.Vec2(this.node.position.x,t.y)))},__decorate([i],t.prototype,"moveToPosition",void 0),__decorate([i],t.prototype,"moveVector",void 0),__decorate([i],t.prototype,"limitX",void 0),__decorate([i],t.prototype,"limitY",void 0),__decorate([i],t.prototype,"minPosition",void 0),__decorate([i],t.prototype,"maxPosition",void 0),__decorate([i],t.prototype,"moveSpeed",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],PrefabRandomGenerator:[function(e,t,o){"use strict";cc._RF.push(t,"12b2eMug6BKo4v/MS22ltef","PrefabRandomGenerator"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loopCount=0,t.delay=0,t.prefabs=[],t.count=0,t}return __extends(t,e),t.prototype.start=function(){this.count<this.loopCount&&this.generate()},t.prototype.generate=function(){var e=this;this.node.runAction(cc.sequence(cc.callFunc(function(){var t=Math.floor(Math.random()*e.prefabs.length);e.node.addChild(cc.instantiate(e.prefabs[t])),++e.count,console.log(t)}),cc.delayTime(this.delay),cc.callFunc(function(){e.count<e.loopCount&&e.generate()})))},__decorate([i],t.prototype,"loopCount",void 0),__decorate([i],t.prototype,"delay",void 0),__decorate([i([cc.Prefab])],t.prototype,"prefabs",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],SceneLoader:[function(e,t,o){"use strict";cc._RF.push(t,"a8fd9Su401HtrLcHh0LHkto","SceneLoader"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.loadScene=function(e,t){cc.director.loadScene(t)},t=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],ScoreLabel:[function(e,t,o){"use strict";cc._RF.push(t,"59e1eIny8RBi475LUZdtfj0","ScoreLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./GameManager"),c=cc._decorator,i=c.ccclass,r=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.label=this.node.getComponent(cc.RichText)},t.prototype.start=function(){},t.prototype.update=function(e){new Number;this.label.string="<outline color=white width=1>"+parseFloat(n.default.instance.getGameScore().toString()).toFixed(2)+"</outline>"},t=__decorate([i],t)}(cc.Component));o.default=r,cc._RF.pop()},{"./GameManager":"GameManager"}],StageManager:[function(e,t,o){"use strict";cc._RF.push(t,"2b348EonY5CtKy/dJUncqef","StageManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(){function e(){this.name="",this.backgroundPrefab=null,this.backgroundAnimClip=null,this.stagePrefab=null}return __decorate([i(String)],e.prototype,"name",void 0),__decorate([i(cc.Prefab)],e.prototype,"backgroundPrefab",void 0),__decorate([i(cc.AnimationClip)],e.prototype,"backgroundAnimClip",void 0),__decorate([i(cc.Prefab)],e.prototype,"stagePrefab",void 0),e=__decorate([c("StageInfo")],e)}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backgroundNode=null,t.stageNode=null,t.stageArray=[],t.animation=null,t.stageBackground_parent=null,t}var o;return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.prototype.start=function(){this.animation=this.backgroundNode.getComponent(cc.Animation),this.stageBackground_parent=this.backgroundNode.getChildByName("StageBackground_Parent"),this.startRandomStage()},t.prototype.startRandomStage=function(){this.startStage(Math.floor(Math.random()*this.stageArray.length))},t.prototype.startStage=function(e){var t=this;if(e>=this.stageArray.length)cc.error("StageManager.ts , StageArray\uc758 index\ub97c \ubc97\uc5b4\ub0ac\uc2b5\ub2c8\ub2e4!!");else{var o=this.stageArray[e].backgroundAnimClip.name,n=this.animation.getAnimationState(o);this.clearStage(),this.stageBackground_parent.addChild(cc.instantiate(this.stageArray[e].backgroundPrefab)),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.animation.play(o)}),cc.delayTime(n.duration),cc.callFunc(function(){t.stageNode.addChild(cc.instantiate(t.stageArray[e].stagePrefab))})))}},t.prototype.clearStage=function(){this.stageBackground_parent.removeAllChildren(),this.stageNode.removeAllChildren()},t.instance=null,__decorate([i(cc.Node)],t.prototype,"backgroundNode",void 0),__decorate([i(cc.Node)],t.prototype,"stageNode",void 0),__decorate([i(r)],t.prototype,"stageArray",void 0),t=o=__decorate([c],t)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["AnimationPlayer","AudioPlayer","BackgroundMusicController","CharacterController","ChildActivator","ComponentActivator","DieComponent","DontDestoryOnLoad","EventSender","EventSenderToStageManager","GameManager","InputManager","MoveComponent","PrefabRandomGenerator","SceneLoader","ScoreLabel","StageManager"]);